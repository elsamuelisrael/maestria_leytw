<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>ejemplo atributos de datos</title>
    <link rel="stylesheet" href="stylex.css">

    <!-- the below three lines are a fix to get HTML5 semantic elements working in old versions of Internet Explorer-->
    <!--[if lt IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- Here is our main header that is used across all the pages of our website -->

    <header>
      <h1>Uso de atributos de datos</h1>
    </header>

    <nav>
        
      <ul>
        
        <li>
            <a 
                data-opcion="0" 
                data-titulo="Título 0" 
                data-contenido="Esta es una prueba 0, esta es una prueba 0. Esta es una prueba 0" 
                data-links="3"
                onclick="cambiarArticulo(this.dataset)" 
                href="#">Opcion 0
            </a>
        </li>

        <li><a data-opcion="1" data-titulo="Título 1" data-contenido="Esta es una prueba 1, esta es una prueba 1. Esta es una prueba 1" data-links="5" onclick="cambiarArticulo(this.dataset)" href="#">Opción 1</a></li>
        <li><a data-opcion="2" data-titulo="Título 2" data-contenido="Esta es una prueba 2, esta es una prueba 2. Esta es una prueba 2" data-links="2" onclick="cambiarArticulo(this.dataset)" href="#">Opción 2</a></li>
        <li><a data-opcion="3" data-titulo="Título 3" data-contenido="Esta es una prueba 3, esta es una prueba 3. Esta es una prueba 3" data-links="1" onclick="cambiarArticulo(this.dataset)" href="#">Opción 3</a></li>
      </ul>

    </nav>

    <main>

      <article id="articulo">
        
        <h2 id="titulo"> - </h2>

        <p id="contenido"> - </p>

      </article>

      <aside>
        
        <h2>Extras</h2>

        <ul id="losextras">
        </ul>

      </aside>

    </main>

    <footer>
      <p>©Copyright 2021 by nobody. All rights reversed.</p>
    </footer>

    <script>

        function cambiarArticulo(obj){

            let elemX = document.getElementById("titulo");

            elemX.innerHTML = obj.titulo;

            let elemY = document.getElementById("contenido");

            elemY.innerHTML = obj.contenido;

            let cadena = ``;

            for (var i = 0; i <= obj.links; i++) {

                cadena += `
                    <li><a data-linkid="${i}" data-quetitulo="${obj.titulo}" onclick="muestralink(this.dataset)" href="#"> link extra ${i} </a></li>
                `;

                //console.log({"i": i, "link" : obj.links})

                if(i == obj.links){

                    let elemZ = document.getElementById("losextras");

                    elemZ.innerHTML = cadena;

                }
            }

        }

        function muestralink(obj){

            const mensaje = ` Soy el link extra No. ${obj.linkid} del ${obj.quetitulo}`;

            alert(mensaje);

        }

    </script> 

  </body>
</html>